# Epic 7 Demo Walkthrough
**Date:** 2026-02-15
**Stories covered:** 7.1 through 7.4

## Infrastructure Blockers

- **Native mode:** API fails on startup — `LocalDB is not supported on this platform` (Linux host, no SQL Server available)
- **Docker Compose mode:** Docker is not installed on this machine. `docker-compose.yml` exists at repo root but cannot be executed.
- **Frontend:** Starts successfully on `http://localhost:5173/` but cannot function without the API backend.

**Demo method: BLOCKED — No SQL Server or Docker runtime available on this machine.**

Epic 7 is an infrastructure-only epic (Bicep templates, GitHub Actions workflows, deployment documentation). The stories' ACs primarily verify Azure deployment behavior (`azd provision`, `azd deploy`, health check endpoint probing, environment isolation) — not local UI/API interactions. A live demo would require either:
1. An Azure subscription with provisioned resources, or
2. Docker to run SQL Server locally via `docker-compose.yml`

Neither is available in this environment.

## Story 7.1: Health Check Endpoints

| AC | Action | Expected | Observed | Result |
|----|--------|----------|----------|--------|
| AC1: GET /health returns 200 | Start API, curl /health | 200 OK | API cannot start (no DB) | BLOCKED |
| AC2: GET /ready returns 200 (DB connected) | Start API with DB, curl /ready | 200 OK | API cannot start (no DB) | BLOCKED |
| AC3: GET /ready returns 503 (DB unreachable) | Start API, disconnect DB, curl /ready | 503 | API cannot start (no DB) | BLOCKED |
| AC4: Health endpoints excluded from auth | curl /health and /ready without token | 200 (no 401) | API cannot start | BLOCKED |
| AC5: Endpoints work in any environment | Start in Production env | Same responses | API cannot start | BLOCKED |

## Story 7.2: Azure Infrastructure as Code

| AC | Action | Expected | Observed | Result |
|----|--------|----------|----------|--------|
| AC1: azure.yaml project name | Inspect azure.yaml | name: recruitment-tracker | Cannot run azd provision | BLOCKED |
| AC2: Blob Storage provisioned | azd provision | Storage account created | No Azure subscription | BLOCKED |
| AC3: Runtime 10.0, Production env | Inspect web.bicep | runtimeVersion: 10.0 | Cannot deploy | BLOCKED |
| AC4: Parameterized SKUs | Inspect main.bicep | B1/Basic defaults | Cannot deploy | BLOCKED |
| AC5: azd provision creates all resources | azd provision | All resources created <30min | No Azure subscription | BLOCKED |
| AC6: azd down removes all | azd down | Resources destroyed | No Azure subscription | BLOCKED |
| AC7: No manual portal config | Review Bicep | All declarative | Cannot deploy | BLOCKED |

## Story 7.3: CI/CD Pipeline with Auto-Migration

| AC | Action | Expected | Observed | Result |
|----|--------|----------|----------|--------|
| AC1: CI still works | Push PR, CI runs | Build+test pass | Cannot trigger GitHub Actions locally | BLOCKED |
| AC2: CD deploys on merge | Merge to main | azd deploy runs | Cannot trigger GitHub Actions locally | BLOCKED |
| AC3: Separate CI/CD | Review workflows | ci.yml and cd.yml separate | Cannot verify in GHA | BLOCKED |
| AC4: Auto-migration on startup | Deploy to Azure | MigrateAsync runs | No Azure environment | BLOCKED |
| AC5: Rollback strategy | Re-run CD for prev commit | Previous version deployed | No Azure environment | BLOCKED |
| AC6: Template removed | Check api/.github/ | azure-dev.yml gone | Cannot verify in GHA | BLOCKED |

## Story 7.4: Staging Environment

| AC | Action | Expected | Observed | Result |
|----|--------|----------|----------|--------|
| AC1: Staging provisioned with isolation | azd env new staging + azd provision | Isolated resources | No Azure subscription | BLOCKED |
| AC2: CD targets staging by default | Push to main | Deploys to staging | No GHA access | BLOCKED |
| AC3: Health checks in staging | curl staging /health and /ready | 200 | No staging env | BLOCKED |
| AC4: Manual promotion to production | workflow_dispatch with production | Production deploys | No GHA access | BLOCKED |
| AC5: Environment-specific secrets | Review GitHub Environments | Separate Key Vaults | No Azure subscription | BLOCKED |
| AC6: Teardown via azd down | azd down | Resources destroyed | No Azure subscription | BLOCKED |
| AC7: No orphaned resources | azd down + check | Zero resources | No Azure subscription | BLOCKED |

## Summary
- Total ACs verified: 0
- Pass: 0
- Fail: 0
- Blocked (app not running, feature not accessible): 25
- Demo method: BLOCKED — No SQL Server, Docker, or Azure subscription available on this machine
